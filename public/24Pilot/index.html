<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>24Flight Map</title>

  <!-- leaflet core -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <!--style + logic-->
  <link rel="stylesheet" href="map.css" />
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech&display=swap" rel="stylesheet">

  <!-- Leaflet Sidebar plugin -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-sidebar-v2/css/leaflet-sidebar.min.css" />
  <script src="https://unpkg.com/leaflet-sidebar-v2/js/leaflet-sidebar.min.js"></script>

</head>
<body>
  <div id="map"></div>

  <div class="radar-sidebar">
    <div class="sidebar-tabs">
      <div class="tab"><img src="icons/flightplan.png" alt=""> FLIGHTPLAN</div>
      <div class="tab"><img src="icons/documents.png" alt=""> DOCUMENTS</div>
      <div class="tab"><img src="icons/airports.png" alt=""> AIRPORTS</div>
      <div class="tab" id="aircraft-tab"><img src="icons/aircraft.png" alt=""> AIRCRAFT</div>
      <div class="tab"><img src="icons/maps.png" alt=""> MAPS</div>
    </div>
    <div class="sidebar-footer">
      <button class="settings-btn"><img src="icons/settings.png" alt=""> SETTINGS</button>
    </div>
  </div>

<div id="aircraft-sidebar" class="aircraft-sidebar hidden">

  <!--close-->
  <button id="close-aircraft-sidebar" class="close-btn">×</button>

  <!--title-->
  <div class="aircraft-header">
    <img id="aircraft-image" src="images/default-plane.png" alt="Aircraft Image">
    <div class="aircraft-title">
      <h2 id="callsign">N/A</h2>
      <p id="aircraft-type">N/A</p>
      <p id="livery">N/A</p>
    </div>
  </div>

  <!--route-->
  <div class="route-section">
    <div class="route-content">
      <p id="departure-airport">N/A</p>
      <img id="route-icon" src="icons/route.png" alt="Route Icon">
      <p id="arrival-airport">N/A</p>
      <p id="departure-time">N/A</p>
      <p id="arrival-time">N/A</p>
    </div>

    <div class="route-progress">
      <div class="progress-bar">
        <div class="progress-fill" id="progress-fill"></div>
      </div>
    </div>
  </div>

  <!--Collapsible Sections -->
  <div class="section">
    <button class="section-toggle red">Aircraft ▼</button>
    <div class="section-content">
      <p>Type: <span id="aircraft-type-full">N/A</span></p>
      <p>Pilot: <span id="Pilot">N/A</span></p>
      <p>Squawk: <span id="Squawk">N/A</span></p>
      <p>Flightplan Link: <span id="Discord-Flightplan-Link"></span></p>
    </div>
  </div>

  <div class="section">
    <button class="section-toggle orange">Location ▼</button>
    <div class="section-content">
      <p>Altitude: <span id="altitude">N/A</span></p>
      <p>Vertical Speed: <span id="vertical speed">N/A fpm</span></p>
      <p>Coordinates: <span id="coordinates">(N/A, N/A)</span></p>
      <p>Speed: <span id="speed">N/A kt</span></p>
      <p>Groundspeed: <span id="groundspeed">N/A kt</span></p>
      <p>Position: <span id="FIR-UIR">N/A</span></p>
      <p>Track: <span id="track">N/A°</span></p>
      <p>Status: <span id="flight-rules">N/A</span></p>
    </div>
  </div>

  <div class="section">
    <button class="section-toggle blue">Flightplan ▼</button>
    <div class="section-content">
      <p>Discord User: <span id="Discord User">N/A</span></p>
      <p>Roblox User: <span id="Roblox User">N/A</span></p>
      <p>Aircraft: <span id="Aircraft-Flpn">N/A</span></p>
      <p>Flight Rules: <span id="Flight Rules">N/A</span></p>
      <p>Route: <span id="Route">N/A</span></p>
      <p>Departing: <span id="departure-airport">N/A</span></p>
      <p>Arriving: <span id="arrival-airport">N/A</span></p>
      <p>Flight Level: <span id="Flight Level">N/A</span></p>
    </div>
  </div>

</div>

</div>

  <div class="corner-info">
    <div class="clock-row">
      <img src="icons/clock.png" alt="Clock"> <span id="utc-time">--:--:-- UTC</span>
    </div>
    <div class="wind-row">
      <img src="icons/wind.png" alt="Wind"> <span id="wind-info">---° @ --kts</span>
    </div>
  </div>

  <div id="settings-sidebar" class="settings-sidebar hidden">
  <button id="close-settings-sidebar" class="close-btn">×</button>
  <div class="settings-content">
    <h2>Settings</h2>
    <p>Placeholder for future controls—like toggles, themes, FIR filters, etc.</p>
  </div>
</div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
  import { getFirestore, doc, setDoc, deleteDoc } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";
  import './map.js';
</script>
  <script src="map.js"></script>
</body>
</html>